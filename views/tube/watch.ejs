<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title><%= videoInfo.title %> - ‰ªô‰∫∫Tube</title>
  <link rel="stylesheet" href="/css/watch.css">
</head>

<body>

<!-- ================= Masthead ================= -->
<header class="ytd-masthead">
  <div class="start">
    <a href="/" class="logo">‰ªô‰∫∫Tube</a>
  </div>
  <div class="center">
    <form action="/s">
      <input type="text" name="q" placeholder="Ê§úÁ¥¢">
    </form>
  </div>
</header>

<!-- ================= Page ================= -->
<div id="page-manager">

  <!-- ========== Main ========== -->
  <main class="ytd-watch-flexy">

    <!-- Player -->
    <section id="player-container">
      <video src="<%= videoData.stream_url %>" controls autoplay></video>
    </section>

    <!-- Primary Info -->
    <section id="primary-info">
      <h1 class="title"><%= videoInfo.title %></h1>

      <div class="meta">
        <span><%= videoInfo.viewCount %></span> ÂõûË¶ñËÅ¥ ‚Ä¢ <%= videoInfo.published %>
      </div>

      <div class="actions">
        <button>üëç <%= videoInfo.likeCount %></button>
        <button>ÂÖ±Êúâ</button>
        <button>‰øùÂ≠ò</button>
      </div>
    </section>

    <!-- Channel / Description -->
    <section id="secondary-info">
      <div class="channel">
        <img src="<%= videoInfo.channelIcon %>">
        <div class="text">
          <a href="/c/<%= videoInfo.channelId %>"><%= videoInfo.channelName %></a>
          <div class="subs"><%= videoInfo.channelSubsc %></div>
        </div>
        <button class="subscribe">ÁôªÈå≤</button>
      </div>

      <div class="description">
        <%- videoInfo.description %>
      </div>
    </section>

    <!-- ================= Comments ================= -->
    <section id="comments">
      <h2>„Ç≥„É°„É≥„Éà</h2>

      <!-- Comment Input -->
      <div class="comment composer">
        <img src="/img/user.png">
        <input type="text" placeholder="„Ç≥„É°„É≥„Éà„ÇíËøΩÂä†‚Ä¶">
      </div>

      <!-- Comment List -->
      <% if (comments) { %>
        <% comments.forEach(c => { %>
          <div class="comment">
            <img src="<%= c.authorThumbnail %>">
            <div class="comment-body">
              <div class="comment-author"><%= c.author %></div>
              <div class="comment-text"><%= c.text %></div>
              <div class="comment-actions">
                üëç <%= c.likes %> ‚Ä¢ Ëøî‰ø°
              </div>
            </div>
          </div>
        <% }) %>
      <% } %>

    </section>

  </main>

  <!-- ========== Sidebar ========== -->
  <aside class="ytd-watch-next">
    <% videoInfo.watch_next_feed.forEach(v => { %>
      <a href="/watch/<%= v.id %>" class="compact-video">
        <img src="<%= v.thumbnail %>">
        <div>
          <div class="title"><%= v.title %></div>
          <div class="meta"><%= v.author %></div>
        </div>
      </a>
    <% }) %>
  </aside>

</div>

</body>
</html>
